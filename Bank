using System.ComponentModel;
using System.Security;

class Program
{
    static void Main()
    {
        Menu menu = new Menu();
        menu.ShowMenu();
    }
}
class DisplayHelper
{
    public static void ShowMessage(string message, int displayTime = 1500)
    {
        Console.Clear();
        Console.WriteLine(message);
        Thread.Sleep(displayTime);
        Console.Clear();
    }
    public static void Pause(string message)
    {
        Console.Clear();
        Console.WriteLine(message);
        Console.WriteLine("Press any key...");
        Console.ReadKey();
        Console.Clear();
    }
}
class Menu
{
    string? choice;
    string[] statement = new string[5];
    public void ShowMenu()
    {
        do
        {
            Console.Clear();
            Console.WriteLine("= MENU =");
            Console.WriteLine("1. Deposit");
            Console.WriteLine("2. Withdraw");
            Console.WriteLine("3. View Balance");
            Console.WriteLine("4. View statement");
            Console.WriteLine("Q. Quit");
            Console.Write("Enter choice: ");
            choice = Console.ReadLine();
            switch (choice.ToLower())
            {
                case "1":
                case "deposit":
                    AccountHandler.AccountCreator();
                    break;
                case "2":
                case "withdraw":
                    break;
                case "3":
                case "view balance":
                case "balance":
                    break;
                case "4":
                case "view statement":
                    break;
                default:
                    DisplayHelper.ShowMessage("Invalid input, try again");
                    break;
            }
        } while (choice.ToLower() != "q" && choice.ToLower() != "quit");
    }
}
class Banking
{ 
    public static void Deposit()
    {

    }
    public static void Withdraw()
    {

    }
    public static void ViewBalance()
    {

    }
    public static void ViewStatement()
    {

    }
}

class FileHandlers
{
    private const string AccountsFolder = "Accounts";
}

class AccountHandler
{
    public static void AccountCreator()
    {
        Console.Clear();
        Console.Write("Enter username: ");
        string? username = Console.ReadLine();
        Console.Write("Enter Password: ");
        string password = "";
        ConsoleKeyInfo key;
        while ((key = Console.ReadKey(true)).Key != ConsoleKey.Enter)
        {
            if (key.Key == ConsoleKey.Backspace && password.Length > 0)
            {
                password = password[..^1];
                Console.Write("\b \b");
            }
            else
            {
                password += key.Key;
                Console.Write("*");
            }
        }
        Console.Write("\nConfirm Password: ");
        string? confirmPassword = "";
        while ((key = Console.ReadKey(true)).Key != ConsoleKey.Enter)
        {
            if (key.Key == ConsoleKey.Backspace && confirmPassword.Length > 0)
            {
                confirmPassword = confirmPassword[..^1];
                Console.Write("\b \b");
            }
            else
            {
                confirmPassword += key.Key;
                Console.Write("*");
            }
        }
        if (confirmPassword != password)
        {
            DisplayHelper.ShowMessage("Passwords do not match, try again");
        }
        else
        {
            DisplayHelper.ShowMessage("Account created!");
        }
    }
}
